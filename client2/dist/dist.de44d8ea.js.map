{"version":3,"sources":["node_modules/colyseus.js/lib/legacy.js","node_modules/@colyseus/http/dist/index.esm.js","node_modules/colyseus.js/lib/errors/ServerError.js","node_modules/colyseus.js/lib/msgpack/decode.js","node_modules/colyseus.js/lib/msgpack/encode.js","node_modules/colyseus.js/lib/msgpack.js","node_modules/strong-events/lib/index.js","node_modules/nanoevents/index.js","node_modules/@gamestdio/websocket/lib/backoff.js","node_modules/@gamestdio/websocket/lib/index.js","node_modules/colyseus.js/lib/Connection.js","node_modules/colyseus.js/lib/serializer/Serializer.js","node_modules/colyseus.js/lib/Protocol.js","../../src/encoding/encode.ts","../src/spec.ts","../../src/encoding/decode.ts","node_modules/colyseus.js/lib/Room.js","node_modules/colyseus.js/lib/Storage.js","node_modules/colyseus.js/lib/Auth.js","node_modules/colyseus.js/lib/Push.js","node_modules/colyseus.js/lib/Client.js","node_modules/@gamestdio/state-listener/lib/compare.js","node_modules/@gamestdio/state-listener/lib/StateContainer.js","node_modules/@gamestdio/state-listener/lib/index.js","node_modules/fossil-delta/fossil-delta.js","node_modules/colyseus.js/lib/serializer/FossilDeltaSerializer.js","../../src/types/ArraySchema.ts","../../src/types/MapSchema.ts","../src/ChangeTree.ts","../../src/events/EventEmitter.ts","../src/Schema.ts","../src/utils.ts","../src/annotations.ts","../src/Reflection.ts","../src/index.ts","node_modules/colyseus.js/lib/serializer/SchemaSerializer.js","node_modules/colyseus.js/lib/index.js","dist/index.js","node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["ArrayBuffer","isView","a","buffer","apply","src","tar","headers","statusMessage","statusText","statusCode","status","data","response","exports","send","method","uri","opts","Promise","res","rej","k","str","tmp","arr","req","XMLHttpRequest","timeout","ontimeout","onerror","err","type","open","href","onload","getAllResponseHeaders","trim","split","shift","toLowerCase","join","indexOf","JSON","parse","reviver","body","stringify","withCredentials","setRequestHeader","get","bind","post","patch","del","put","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","value","ServerError","_super","code","message","_this","call","name","Error","Decoder","offset","_offset","_buffer","_view","DataView","byteOffset","byteLength","utf8Read","view","length","string","chr","i","end","byte","getUint8","String","fromCharCode","toString","_array","_parse","_map","key","_str","_bin","slice","prefix","hi","lo","getUint16","getUint32","getInt8","getFloat32","getFloat64","Math","pow","getInt16","getInt32","Date","decode","decoder","default","utf8Write","c","l","charCodeAt","setUint8","utf8Length","_encode","bytes","defers","size","push","_length","floor","isFinite","_float","isArray","time","getTime","toJSON","keys","allKeys","encode","buf","deferIndex","deferWritten","nextOffset","defer","deferLength","bin","Uint8Array","j","undefined","setFloat64","__importDefault","mod","__esModule","decode_1","require","encode_1","createNanoEvents","events","emit","event","args","on","cb","filter","createBackoff","backoff","exponential","attempt","delay","random","fibonacci","current","prev","index","next","options","Backoff","func","attempts","initialDelay","setTimeout","onReady","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","WebSocketImpl","WebSocket","WebSocketClient","url","protocols","arguments","reconnectEnabled","listeners","onBackoffReady","connect","reconnect","isReconnect","binaryType","ws","onclose","onCloseCallback","onErrorCallback","onmessage","onMessageCallback","onopen","onOpenCallback","number","e","close","reason","bufferedAmount","readyState","set","extensions","protocol","listener","CONNECTING","OPEN","CLOSING","CLOSED","Connection","websocket_1","autoConnect","_enqueuedCalls","_i","_a","_b","getSerializer","registerSerializer","serializers","id","serializer","ErrorCode","Protocol","__createBinding","o","m","k2","__setModuleDefault","v","__importStar","result","Room","msgpack","strong_events_1","nanoevents_1","Connection_1","Serializer_1","Protocol_1","rootSchema","onJoin","createSignal","onStateChange","onError","onLeave","hasJoined","onMessageHandlers","state","console","warn","removeAllListeners","endpoint","connection","invoke","leave","consented","LEAVE_ROOM","onMessage","callback","getMessageHandlerKey","initialBytes","ROOM_DATA","encoded","getState","listen","segments","immediate","serializerId","api","removeListener","teardown","clear","from","JOIN_ROOM","handshake","ERROR","it_1","code_1","ROOM_DATA_SCHEMA","context_1","_context","dispatchMessage","ROOM_STATE","setState","ROOM_STATE_PATCH","it_2","stringCheck","encodedState","binaryPatch","messageType","_typeid","getItem","removeItem","setItem","storage","getStorage","cc","sys","localStorage","window","cache","then","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","reject","fulfilled","step","rejected","done","__generator","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","op","pop","Auth","Platform","http","Storage_1","TOKEN_STORAGE","_id","username","displayName","avatarUrl","isAnonymous","email","lang","location","timezone","metadata","devices","facebookId","twitterId","googleId","gameCenterId","steamId","friendIds","blockedUserIds","createdAt","updatedAt","token","replace","login","queryParams","attr","assign","hasToken","request","registerPingService","save","getFriends","getOnlineFriends","getFriendRequests","sendFriendRequest","friendId","userId","acceptFriendRequest","declineFriendRequest","blockUser","unblockUser","query","name_1","queryString","logout","unregisterPingService","keepOnlineInterval","setInterval","clearInterval","Push","register","check","registerServiceWorker","requestNotificationPermission","navigator","serviceWorker","permission","requestPermission","Client","MatchMakeError","http_1","ServerError_1","Room_1","Auth_1","Push_1","hostname","port","auth","joinOrCreate","roomName","createMatchMakeRequest","joinById","roomId","sessionId","getAvailableRooms","consumeSeatReservation","room","createRoom","buildEndpoint","once","remove","error","params","processId","FossilDeltaSerializer","state_listener_1","fossilDelta","StateContainer","previousState","SchemaSerializer","schema_1","rawState","patches","it","reflection","Reflection","Client_1","FossilDeltaSerializer_1","SchemaSerializer_1","colyseus_js_1","document","addEventListener","client","handleInput","ev","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","log","removeErrorOverlay","stack","overlay","createErrorOverlay","appendChild","getElementById","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","concat","Function","deps","cached","some"],"mappings":"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O,KAAK7H,QAAL,GAAgB,GAAhB,GAAsB+J,IAAI,CAACO,SAA3B,GAAuC,GAAvC,GAA6CP,IAAI,CAACJ,MAAlD,GAA2D,GAA3D,GAAiEU,MAAM,CAAClZ,IAAP,CAAY,GAAZ,CAAxE;AACH,GAVD;;AAWA,SAAO0X,MAAP;AACH,CA1I2B,EAA5B;;AA2IArZ,OAAO,CAACqZ,MAAR,GAAiBA,MAAjB;;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3HA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClcA;;AACA,IAAIxK,eAAe,GAAI,QAAQ,KAAKA,eAAd,KAAmC/L,MAAM,CAACS,MAAP,GAAi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","file":"dist.de44d8ea.js","sourceRoot":"..","sourcesContent":["//\n// Polyfills for legacy environments\n//\n/*\n * Support Android 4.4.x\n */\nif (!ArrayBuffer.isView) {\n    ArrayBuffer.isView = function (a) {\n        return a !== null && typeof (a) === 'object' && a.buffer instanceof ArrayBuffer;\n    };\n}\n","function apply(src, tar) {\n\ttar.headers = src.headers || {};\n\ttar.statusMessage = src.statusText;\n\ttar.statusCode = src.status;\n\ttar.data = src.response;\n}\n\nexports.send = function (method, uri, opts) {\n\treturn new Promise(function (res, rej) {\n\t\topts = opts || {};\n\t\tvar k, str, tmp, arr;\n\t\tvar req = new XMLHttpRequest;\n\t\tvar headers = opts.headers || {};\n\n\t\t// IE compatible\n\t\tif (opts.timeout) req.timeout = opts.timeout;\n\t\treq.ontimeout = req.onerror = function (err) {\n\t\t\terr.timeout = err.type == 'timeout';\n\t\t\trej(err);\n\t\t}\n\n\t\treq.open(method, uri.href || uri);\n\n\t\treq.onload = function () {\n\t\t\tarr = req.getAllResponseHeaders().trim().split(/[\\r\\n]+/);\n\t\t\tapply(req, req); //=> req.headers\n\n\t\t\twhile (tmp = arr.shift()) {\n\t\t\t\ttmp = tmp.split(': ');\n\t\t\t\treq.headers[tmp.shift().toLowerCase()] = tmp.join(': ');\n\t\t\t}\n\n\t\t\ttmp = req.headers['content-type'];\n\t\t\tif (tmp && !!~tmp.indexOf('application/json')) {\n\t\t\t\ttry {\n\t\t\t\t\treq.data = JSON.parse(req.data, opts.reviver);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tapply(req, err);\n\t\t\t\t\treturn rej(err);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t(req.status >= 400 ? rej : res)(req);\n\t\t};\n\n\t\tif ((str = opts.body) && typeof str == 'object') {\n\t\t\theaders['content-type'] = 'application/json';\n\t\t\tstr = JSON.stringify(str);\n\t\t}\n\n\t\treq.withCredentials = !!opts.withCredentials;\n\n\t\tfor (k in headers) {\n\t\t\treq.setRequestHeader(k, headers[k]);\n\t\t}\n\n\t\treq.send(str);\n\t});\n}\n\nexports.get = exports.send.bind(exports.send, 'GET');\nexports.post = exports.send.bind(exports.send, 'POST');\nexports.patch = exports.send.bind(exports.send, 'PATCH');\nexports.del = exports.send.bind(exports.send, 'DELETE');\nexports.put = exports.send.bind(exports.send, 'PUT');\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServerError = void 0;\nvar ServerError = /** @class */ (function (_super) {\n    __extends(ServerError, _super);\n    function ServerError(code, message) {\n        var _this = _super.call(this, message) || this;\n        _this.name = \"ServerError\";\n        _this.code = code;\n        return _this;\n    }\n    return ServerError;\n}(Error));\nexports.ServerError = ServerError;\n","\"use strict\";\n/**\n * Copyright (c) 2014 Ion Drive Software Ltd.\n * https://github.com/darrachequesne/notepack/\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Patch for Colyseus:\n * -------------------\n *\n * added `offset` on Decoder constructor, for messages arriving with a code\n * before actual msgpack data\n */\nfunction Decoder(buffer, offset) {\n    this._offset = offset;\n    if (buffer instanceof ArrayBuffer) {\n        this._buffer = buffer;\n        this._view = new DataView(this._buffer);\n    }\n    else if (ArrayBuffer.isView(buffer)) {\n        this._buffer = buffer.buffer;\n        this._view = new DataView(this._buffer, buffer.byteOffset, buffer.byteLength);\n    }\n    else {\n        throw new Error('Invalid argument');\n    }\n}\nfunction utf8Read(view, offset, length) {\n    var string = '', chr = 0;\n    for (var i = offset, end = offset + length; i < end; i++) {\n        var byte = view.getUint8(i);\n        if ((byte & 0x80) === 0x00) {\n            string += String.fromCharCode(byte);\n            continue;\n        }\n        if ((byte & 0xe0) === 0xc0) {\n            string += String.fromCharCode(((byte & 0x1f) << 6) |\n                (view.getUint8(++i) & 0x3f));\n            continue;\n        }\n        if ((byte & 0xf0) === 0xe0) {\n            string += String.fromCharCode(((byte & 0x0f) << 12) |\n                ((view.getUint8(++i) & 0x3f) << 6) |\n                ((view.getUint8(++i) & 0x3f) << 0));\n            continue;\n        }\n        if ((byte & 0xf8) === 0xf0) {\n            chr = ((byte & 0x07) << 18) |\n                ((view.getUint8(++i) & 0x3f) << 12) |\n                ((view.getUint8(++i) & 0x3f) << 6) |\n                ((view.getUint8(++i) & 0x3f) << 0);\n            if (chr >= 0x010000) { // surrogate pair\n                chr -= 0x010000;\n                string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\n            }\n            else {\n                string += String.fromCharCode(chr);\n            }\n            continue;\n        }\n        throw new Error('Invalid byte ' + byte.toString(16));\n    }\n    return string;\n}\nDecoder.prototype._array = function (length) {\n    var value = new Array(length);\n    for (var i = 0; i < length; i++) {\n        value[i] = this._parse();\n    }\n    return value;\n};\nDecoder.prototype._map = function (length) {\n    var key = '', value = {};\n    for (var i = 0; i < length; i++) {\n        key = this._parse();\n        value[key] = this._parse();\n    }\n    return value;\n};\nDecoder.prototype._str = function (length) {\n    var value = utf8Read(this._view, this._offset, length);\n    this._offset += length;\n    return value;\n};\nDecoder.prototype._bin = function (length) {\n    var value = this._buffer.slice(this._offset, this._offset + length);\n    this._offset += length;\n    return value;\n};\nDecoder.prototype._parse = function () {\n    var prefix = this._view.getUint8(this._offset++);\n    var value, length = 0, type = 0, hi = 0, lo = 0;\n    if (prefix < 0xc0) {\n        // positive fixint\n        if (prefix < 0x80) {\n            return prefix;\n        }\n        // fixmap\n        if (prefix < 0x90) {\n            return this._map(prefix & 0x0f);\n        }\n        // fixarray\n        if (prefix < 0xa0) {\n            return this._array(prefix & 0x0f);\n        }\n        // fixstr\n        return this._str(prefix & 0x1f);\n    }\n    // negative fixint\n    if (prefix > 0xdf) {\n        return (0xff - prefix + 1) * -1;\n    }\n    switch (prefix) {\n        // nil\n        case 0xc0:\n            return null;\n        // false\n        case 0xc2:\n            return false;\n        // true\n        case 0xc3:\n            return true;\n        // bin\n        case 0xc4:\n            length = this._view.getUint8(this._offset);\n            this._offset += 1;\n            return this._bin(length);\n        case 0xc5:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._bin(length);\n        case 0xc6:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._bin(length);\n        // ext\n        case 0xc7:\n            length = this._view.getUint8(this._offset);\n            type = this._view.getInt8(this._offset + 1);\n            this._offset += 2;\n            return [type, this._bin(length)];\n        case 0xc8:\n            length = this._view.getUint16(this._offset);\n            type = this._view.getInt8(this._offset + 2);\n            this._offset += 3;\n            return [type, this._bin(length)];\n        case 0xc9:\n            length = this._view.getUint32(this._offset);\n            type = this._view.getInt8(this._offset + 4);\n            this._offset += 5;\n            return [type, this._bin(length)];\n        // float\n        case 0xca:\n            value = this._view.getFloat32(this._offset);\n            this._offset += 4;\n            return value;\n        case 0xcb:\n            value = this._view.getFloat64(this._offset);\n            this._offset += 8;\n            return value;\n        // uint\n        case 0xcc:\n            value = this._view.getUint8(this._offset);\n            this._offset += 1;\n            return value;\n        case 0xcd:\n            value = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return value;\n        case 0xce:\n            value = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return value;\n        case 0xcf:\n            hi = this._view.getUint32(this._offset) * Math.pow(2, 32);\n            lo = this._view.getUint32(this._offset + 4);\n            this._offset += 8;\n            return hi + lo;\n        // int\n        case 0xd0:\n            value = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return value;\n        case 0xd1:\n            value = this._view.getInt16(this._offset);\n            this._offset += 2;\n            return value;\n        case 0xd2:\n            value = this._view.getInt32(this._offset);\n            this._offset += 4;\n            return value;\n        case 0xd3:\n            hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\n            lo = this._view.getUint32(this._offset + 4);\n            this._offset += 8;\n            return hi + lo;\n        // fixext\n        case 0xd4:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            if (type === 0x00) {\n                this._offset += 1;\n                return void 0;\n            }\n            return [type, this._bin(1)];\n        case 0xd5:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return [type, this._bin(2)];\n        case 0xd6:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return [type, this._bin(4)];\n        case 0xd7:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            if (type === 0x00) {\n                hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\n                lo = this._view.getUint32(this._offset + 4);\n                this._offset += 8;\n                return new Date(hi + lo);\n            }\n            return [type, this._bin(8)];\n        case 0xd8:\n            type = this._view.getInt8(this._offset);\n            this._offset += 1;\n            return [type, this._bin(16)];\n        // str\n        case 0xd9:\n            length = this._view.getUint8(this._offset);\n            this._offset += 1;\n            return this._str(length);\n        case 0xda:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._str(length);\n        case 0xdb:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._str(length);\n        // array\n        case 0xdc:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._array(length);\n        case 0xdd:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._array(length);\n        // map\n        case 0xde:\n            length = this._view.getUint16(this._offset);\n            this._offset += 2;\n            return this._map(length);\n        case 0xdf:\n            length = this._view.getUint32(this._offset);\n            this._offset += 4;\n            return this._map(length);\n    }\n    throw new Error('Could not parse');\n};\nfunction decode(buffer, offset) {\n    if (offset === void 0) { offset = 0; }\n    var decoder = new Decoder(buffer, offset);\n    var value = decoder._parse();\n    if (decoder._offset !== buffer.byteLength) {\n        throw new Error((buffer.byteLength - decoder._offset) + ' trailing bytes');\n    }\n    return value;\n}\nexports.default = decode;\n","\"use strict\";\n/**\n * Copyright (c) 2014 Ion Drive Software Ltd.\n * https://github.com/darrachequesne/notepack/\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction utf8Write(view, offset, str) {\n    var c = 0;\n    for (var i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            view.setUint8(offset++, c);\n        }\n        else if (c < 0x800) {\n            view.setUint8(offset++, 0xc0 | (c >> 6));\n            view.setUint8(offset++, 0x80 | (c & 0x3f));\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            view.setUint8(offset++, 0xe0 | (c >> 12));\n            view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n            view.setUint8(offset++, 0x80 | (c & 0x3f));\n        }\n        else {\n            i++;\n            c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n            view.setUint8(offset++, 0xf0 | (c >> 18));\n            view.setUint8(offset++, 0x80 | (c >> 12) & 0x3f);\n            view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n            view.setUint8(offset++, 0x80 | (c & 0x3f));\n        }\n    }\n}\nfunction utf8Length(str) {\n    var c = 0, length = 0;\n    for (var i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\nfunction _encode(bytes, defers, value) {\n    var type = typeof value, i = 0, l = 0, hi = 0, lo = 0, length = 0, size = 0;\n    if (type === 'string') {\n        length = utf8Length(value);\n        // fixstr\n        if (length < 0x20) {\n            bytes.push(length | 0xa0);\n            size = 1;\n        }\n        // str 8\n        else if (length < 0x100) {\n            bytes.push(0xd9, length);\n            size = 2;\n        }\n        // str 16\n        else if (length < 0x10000) {\n            bytes.push(0xda, length >> 8, length);\n            size = 3;\n        }\n        // str 32\n        else if (length < 0x100000000) {\n            bytes.push(0xdb, length >> 24, length >> 16, length >> 8, length);\n            size = 5;\n        }\n        else {\n            throw new Error('String too long');\n        }\n        defers.push({ _str: value, _length: length, _offset: bytes.length });\n        return size + length;\n    }\n    if (type === 'number') {\n        // TODO: encode to float 32?\n        // float 64\n        if (Math.floor(value) !== value || !isFinite(value)) {\n            bytes.push(0xcb);\n            defers.push({ _float: value, _length: 8, _offset: bytes.length });\n            return 9;\n        }\n        if (value >= 0) {\n            // positive fixnum\n            if (value < 0x80) {\n                bytes.push(value);\n                return 1;\n            }\n            // uint 8\n            if (value < 0x100) {\n                bytes.push(0xcc, value);\n                return 2;\n            }\n            // uint 16\n            if (value < 0x10000) {\n                bytes.push(0xcd, value >> 8, value);\n                return 3;\n            }\n            // uint 32\n            if (value < 0x100000000) {\n                bytes.push(0xce, value >> 24, value >> 16, value >> 8, value);\n                return 5;\n            }\n            // uint 64\n            hi = (value / Math.pow(2, 32)) >> 0;\n            lo = value >>> 0;\n            bytes.push(0xcf, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\n            return 9;\n        }\n        else {\n            // negative fixnum\n            if (value >= -0x20) {\n                bytes.push(value);\n                return 1;\n            }\n            // int 8\n            if (value >= -0x80) {\n                bytes.push(0xd0, value);\n                return 2;\n            }\n            // int 16\n            if (value >= -0x8000) {\n                bytes.push(0xd1, value >> 8, value);\n                return 3;\n            }\n            // int 32\n            if (value >= -0x80000000) {\n                bytes.push(0xd2, value >> 24, value >> 16, value >> 8, value);\n                return 5;\n            }\n            // int 64\n            hi = Math.floor(value / Math.pow(2, 32));\n            lo = value >>> 0;\n            bytes.push(0xd3, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\n            return 9;\n        }\n    }\n    if (type === 'object') {\n        // nil\n        if (value === null) {\n            bytes.push(0xc0);\n            return 1;\n        }\n        if (Array.isArray(value)) {\n            length = value.length;\n            // fixarray\n            if (length < 0x10) {\n                bytes.push(length | 0x90);\n                size = 1;\n            }\n            // array 16\n            else if (length < 0x10000) {\n                bytes.push(0xdc, length >> 8, length);\n                size = 3;\n            }\n            // array 32\n            else if (length < 0x100000000) {\n                bytes.push(0xdd, length >> 24, length >> 16, length >> 8, length);\n                size = 5;\n            }\n            else {\n                throw new Error('Array too large');\n            }\n            for (i = 0; i < length; i++) {\n                size += _encode(bytes, defers, value[i]);\n            }\n            return size;\n        }\n        // fixext 8 / Date\n        if (value instanceof Date) {\n            var time = value.getTime();\n            hi = Math.floor(time / Math.pow(2, 32));\n            lo = time >>> 0;\n            bytes.push(0xd7, 0, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\n            return 10;\n        }\n        if (value instanceof ArrayBuffer) {\n            length = value.byteLength;\n            // bin 8\n            if (length < 0x100) {\n                bytes.push(0xc4, length);\n                size = 2;\n            }\n            else \n            // bin 16\n            if (length < 0x10000) {\n                bytes.push(0xc5, length >> 8, length);\n                size = 3;\n            }\n            else \n            // bin 32\n            if (length < 0x100000000) {\n                bytes.push(0xc6, length >> 24, length >> 16, length >> 8, length);\n                size = 5;\n            }\n            else {\n                throw new Error('Buffer too large');\n            }\n            defers.push({ _bin: value, _length: length, _offset: bytes.length });\n            return size + length;\n        }\n        if (typeof value.toJSON === 'function') {\n            return _encode(bytes, defers, value.toJSON());\n        }\n        var keys = [], key = '';\n        var allKeys = Object.keys(value);\n        for (i = 0, l = allKeys.length; i < l; i++) {\n            key = allKeys[i];\n            if (typeof value[key] !== 'function') {\n                keys.push(key);\n            }\n        }\n        length = keys.length;\n        // fixmap\n        if (length < 0x10) {\n            bytes.push(length | 0x80);\n            size = 1;\n        }\n        // map 16\n        else if (length < 0x10000) {\n            bytes.push(0xde, length >> 8, length);\n            size = 3;\n        }\n        // map 32\n        else if (length < 0x100000000) {\n            bytes.push(0xdf, length >> 24, length >> 16, length >> 8, length);\n            size = 5;\n        }\n        else {\n            throw new Error('Object too large');\n        }\n        for (i = 0; i < length; i++) {\n            key = keys[i];\n            size += _encode(bytes, defers, key);\n            size += _encode(bytes, defers, value[key]);\n        }\n        return size;\n    }\n    // false/true\n    if (type === 'boolean') {\n        bytes.push(value ? 0xc3 : 0xc2);\n        return 1;\n    }\n    // fixext 1 / undefined\n    if (type === 'undefined') {\n        bytes.push(0xd4, 0, 0);\n        return 3;\n    }\n    throw new Error('Could not encode');\n}\nfunction encode(value) {\n    var bytes = [];\n    var defers = [];\n    var size = _encode(bytes, defers, value);\n    var buf = new ArrayBuffer(size);\n    var view = new DataView(buf);\n    var deferIndex = 0;\n    var deferWritten = 0;\n    var nextOffset = -1;\n    if (defers.length > 0) {\n        nextOffset = defers[0]._offset;\n    }\n    var defer, deferLength = 0, offset = 0;\n    for (var i = 0, l = bytes.length; i < l; i++) {\n        view.setUint8(deferWritten + i, bytes[i]);\n        if (i + 1 !== nextOffset) {\n            continue;\n        }\n        defer = defers[deferIndex];\n        deferLength = defer._length;\n        offset = deferWritten + nextOffset;\n        if (defer._bin) {\n            var bin = new Uint8Array(defer._bin);\n            for (var j = 0; j < deferLength; j++) {\n                view.setUint8(offset + j, bin[j]);\n            }\n        }\n        else if (defer._str) {\n            utf8Write(view, offset, defer._str);\n        }\n        else if (defer._float !== undefined) {\n            view.setFloat64(offset, defer._float);\n        }\n        deferIndex++;\n        deferWritten += deferLength;\n        if (defers[deferIndex]) {\n            nextOffset = defers[deferIndex]._offset;\n        }\n    }\n    return buf;\n}\nexports.default = encode;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.decode = void 0;\nvar decode_1 = __importDefault(require(\"./msgpack/decode\"));\nvar encode_1 = __importDefault(require(\"./msgpack/encode\"));\nexports.decode = decode_1.default;\nexports.encode = encode_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventEmitter = /** @class */ (function () {\n    function EventEmitter() {\n        this.handlers = [];\n    }\n    EventEmitter.prototype.register = function (cb, once) {\n        if (once === void 0) { once = false; }\n        this.handlers.push(cb);\n        return this;\n    };\n    EventEmitter.prototype.invoke = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        this.handlers.forEach(function (handler) { return handler.apply(void 0, args); });\n    };\n    EventEmitter.prototype.invokeAsync = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return Promise.all(this.handlers.map(function (handler) { return handler.apply(void 0, args); }));\n    };\n    EventEmitter.prototype.remove = function (cb) {\n        var index = this.handlers.indexOf(cb);\n        this.handlers[index] = this.handlers[this.handlers.length - 1];\n        this.handlers.pop();\n    };\n    EventEmitter.prototype.clear = function () {\n        this.handlers = [];\n    };\n    return EventEmitter;\n}());\nexports.EventEmitter = EventEmitter;\nfunction createSignal() {\n    var emitter = new EventEmitter();\n    function register(cb) {\n        return emitter.register(cb, this === null);\n    }\n    ;\n    register.once = function (cb) {\n        var callback = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            cb.apply(void 0, args);\n            emitter.remove(callback);\n        };\n        emitter.register(callback);\n    };\n    register.remove = function (cb) { return emitter.remove(cb); };\n    register.invoke = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return emitter.invoke.apply(emitter, args);\n    };\n    register.invokeAsync = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return emitter.invokeAsync.apply(emitter, args);\n    };\n    register.clear = function () { return emitter.clear(); };\n    return register;\n}\nexports.createSignal = createSignal;\n","let createNanoEvents = () => ({\n  events: {},\n  emit (event, ...args) {\n    for (let i of this.events[event] || []) {\n      i(...args)\n    }\n  },\n  on (event, cb) {\n    ;(this.events[event] = this.events[event] || []).push(cb)\n    return () => (this.events[event] = this.events[event].filter(i => i !== cb))\n  }\n})\n\nexport { createNanoEvents }\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.createBackoff=createBackoff;var backoff={exponential:function exponential(attempt,delay){return Math.floor(Math.random()*Math.pow(2,attempt)*delay);},fibonacci:function fibonacci(attempt,delay){var current=1;if(attempt>current){var prev=1,current=2;for(var index=2;index<attempt;index++){var next=prev+current;prev=current;current=next;}}return Math.floor(Math.random()*current*delay);}};function createBackoff(type,options){return new Backoff(backoff[type],options);}function Backoff(func,options){this.func=func;this.attempts=0;this.delay=typeof options.initialDelay!==\"undefined\"?options.initialDelay:100;}Backoff.prototype.backoff=function(){setTimeout(this.onReady,this.func(++this.attempts,this.delay));};","'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var createBackoff=require('./backoff').createBackoff;var WebSocketImpl=typeof WebSocket!==\"undefined\"?WebSocket:require('ws');var WebSocketClient=function(){/**\n   * @param url DOMString The URL to which to connect; this should be the URL to which the WebSocket server will respond.\n   * @param protocols DOMString|DOMString[] Either a single protocol string or an array of protocol strings. These strings are used to indicate sub-protocols, so that a single server can implement multiple WebSocket sub-protocols (for example, you might want one server to be able to handle different types of interactions depending on the specified protocol). If you don't specify a protocol string, an empty string is assumed.\n   */function WebSocketClient(url,protocols){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};_classCallCheck(this,WebSocketClient);this.url=url;this.protocols=protocols;this.reconnectEnabled=true;this.listeners={};this.backoff=createBackoff(options.backoff||'exponential',options);this.backoff.onReady=this.onBackoffReady.bind(this);if(typeof options.connect===\"undefined\"||options.connect){this.open();}}_createClass(WebSocketClient,[{key:'open',value:function open(){var reconnect=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.isReconnect=reconnect;// keep binaryType used on previous WebSocket connection\nvar binaryType=this.ws&&this.ws.binaryType;this.ws=new WebSocketImpl(this.url,this.protocols);this.ws.onclose=this.onCloseCallback.bind(this);this.ws.onerror=this.onErrorCallback.bind(this);this.ws.onmessage=this.onMessageCallback.bind(this);this.ws.onopen=this.onOpenCallback.bind(this);if(binaryType){this.ws.binaryType=binaryType;}}/**\n   * @ignore\n   */},{key:'onBackoffReady',value:function onBackoffReady(number,delay){// console.log(\"onBackoffReady\", number + ' ' + delay + 'ms');\nthis.open(true);}/**\n   * @ignore\n   */},{key:'onCloseCallback',value:function onCloseCallback(e){if(!this.isReconnect&&this.listeners['onclose']){this.listeners['onclose'].apply(null,arguments);}if(this.reconnectEnabled&&e.code<3000){this.backoff.backoff();}}/**\n   * @ignore\n   */},{key:'onErrorCallback',value:function onErrorCallback(){if(this.listeners['onerror']){this.listeners['onerror'].apply(null,arguments);}}/**\n   * @ignore\n   */},{key:'onMessageCallback',value:function onMessageCallback(){if(this.listeners['onmessage']){this.listeners['onmessage'].apply(null,arguments);}}/**\n   * @ignore\n   */},{key:'onOpenCallback',value:function onOpenCallback(){if(this.listeners['onopen']){this.listeners['onopen'].apply(null,arguments);}if(this.isReconnect&&this.listeners['onreconnect']){this.listeners['onreconnect'].apply(null,arguments);}this.isReconnect=false;}/**\n   * The number of bytes of data that have been queued using calls to send()\n   * but not yet transmitted to the network. This value does not reset to zero\n   * when the connection is closed; if you keep calling send(), this will\n   * continue to climb.\n   *\n   * @type unsigned long\n   * @readonly\n   */},{key:'close',/**\n   * Closes the WebSocket connection or connection attempt, if any. If the\n   * connection is already CLOSED, this method does nothing.\n   *\n   * @param code A numeric value indicating the status code explaining why the connection is being closed. If this parameter is not specified, a default value of 1000 (indicating a normal \"transaction complete\" closure) is assumed. See the list of status codes on the CloseEvent page for permitted values.\n   * @param reason A human-readable string explaining why the connection is closing. This string must be no longer than 123 bytes of UTF-8 text (not characters).\n   *\n   * @return void\n   */value:function close(code,reason){if(typeof code=='undefined'){code=1000;}this.reconnectEnabled=false;this.ws.close(code,reason);}/**\n   * Transmits data to the server over the WebSocket connection.\n   * @param data DOMString|ArrayBuffer|Blob\n   * @return void\n   */},{key:'send',value:function send(data){this.ws.send(data);}/**\n   * An event listener to be called when the WebSocket connection's readyState changes to CLOSED. The listener receives a CloseEvent named \"close\".\n   * @param listener EventListener\n   */},{key:'bufferedAmount',get:function get(){return this.ws.bufferedAmount;}/**\n   * The current state of the connection; this is one of the Ready state constants.\n   * @type unsigned short\n   * @readonly\n   */},{key:'readyState',get:function get(){return this.ws.readyState;}/**\n   * A string indicating the type of binary data being transmitted by the\n   * connection. This should be either \"blob\" if DOM Blob objects are being\n   * used or \"arraybuffer\" if ArrayBuffer objects are being used.\n   * @type DOMString\n   */},{key:'binaryType',get:function get(){return this.ws.binaryType;},set:function set(binaryType){this.ws.binaryType=binaryType;}/**\n   * The extensions selected by the server. This is currently only the empty\n   * string or a list of extensions as negotiated by the connection.\n   * @type DOMString\n   */},{key:'extensions',get:function get(){return this.ws.extensions;},set:function set(extensions){this.ws.extensions=extensions;}/**\n   * A string indicating the name of the sub-protocol the server selected;\n   * this will be one of the strings specified in the protocols parameter when\n   * creating the WebSocket object.\n   * @type DOMString\n   */},{key:'protocol',get:function get(){return this.ws.protocol;},set:function set(protocol){this.ws.protocol=protocol;}},{key:'onclose',set:function set(listener){this.listeners['onclose']=listener;},get:function get(){return this.listeners['onclose'];}/**\n   * An event listener to be called when an error occurs. This is a simple event named \"error\".\n   * @param listener EventListener\n   */},{key:'onerror',set:function set(listener){this.listeners['onerror']=listener;},get:function get(){return this.listeners['onerror'];}/**\n   * An event listener to be called when a message is received from the server. The listener receives a MessageEvent named \"message\".\n   * @param listener EventListener\n   */},{key:'onmessage',set:function set(listener){this.listeners['onmessage']=listener;},get:function get(){return this.listeners['onmessage'];}/**\n   * An event listener to be called when the WebSocket connection's readyState changes to OPEN; this indicates that the connection is ready to send and receive data. The event is a simple one with the name \"open\".\n   * @param listener EventListener\n   */},{key:'onopen',set:function set(listener){this.listeners['onopen']=listener;},get:function get(){return this.listeners['onopen'];}/**\n   * @param listener EventListener\n   */},{key:'onreconnect',set:function set(listener){this.listeners['onreconnect']=listener;},get:function get(){return this.listeners['onreconnect'];}}]);return WebSocketClient;}();/**\n * The connection is not yet open.\n */WebSocketClient.CONNECTING=WebSocketImpl.CONNECTING;/**\n * The connection is open and ready to communicate.\n */WebSocketClient.OPEN=WebSocketImpl.OPEN;/**\n * The connection is in the process of closing.\n */WebSocketClient.CLOSING=WebSocketImpl.CLOSING;/**\n * The connection is closed or couldn't be opened.\n */WebSocketClient.CLOSED=WebSocketImpl.CLOSED;exports.default=WebSocketClient;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = void 0;\nvar websocket_1 = __importDefault(require(\"@gamestdio/websocket\"));\nvar Connection = /** @class */ (function (_super) {\n    __extends(Connection, _super);\n    function Connection(url, autoConnect) {\n        if (autoConnect === void 0) { autoConnect = true; }\n        var _this = _super.call(this, url, undefined, { connect: autoConnect }) || this;\n        _this._enqueuedCalls = [];\n        return _this;\n    }\n    Connection.prototype.onOpenCallback = function (event) {\n        _super.prototype.onOpenCallback.call(this);\n        this.binaryType = 'arraybuffer';\n        if (this._enqueuedCalls.length > 0) {\n            for (var _i = 0, _a = this._enqueuedCalls; _i < _a.length; _i++) {\n                var _b = _a[_i], method = _b[0], args = _b[1];\n                this[method].apply(this, args);\n            }\n            // clear enqueued calls.\n            this._enqueuedCalls = [];\n        }\n    };\n    Connection.prototype.send = function (data) {\n        if (this.ws.readyState === websocket_1.default.OPEN) {\n            if (data instanceof ArrayBuffer) {\n                return _super.prototype.send.call(this, data);\n            }\n            else if (Array.isArray(data)) {\n                return _super.prototype.send.call(this, (new Uint8Array(data)).buffer);\n            }\n        }\n        else {\n            // WebSocket not connected.\n            // Enqueue data to be sent when readyState == OPEN\n            this._enqueuedCalls.push(['send', [data]]);\n        }\n    };\n    return Connection;\n}(websocket_1.default));\nexports.Connection = Connection;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSerializer = exports.registerSerializer = void 0;\nvar serializers = {};\nfunction registerSerializer(id, serializer) {\n    serializers[id] = serializer;\n}\nexports.registerSerializer = registerSerializer;\nfunction getSerializer(id) {\n    return serializers[id];\n}\nexports.getSerializer = getSerializer;\n","\"use strict\";\n// Use codes between 0~127 for lesser throughput (1 byte)\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.utf8Length = exports.utf8Read = exports.ErrorCode = exports.Protocol = void 0;\nvar Protocol;\n(function (Protocol) {\n    // Room-related (10~19)\n    Protocol[Protocol[\"HANDSHAKE\"] = 9] = \"HANDSHAKE\";\n    Protocol[Protocol[\"JOIN_ROOM\"] = 10] = \"JOIN_ROOM\";\n    Protocol[Protocol[\"ERROR\"] = 11] = \"ERROR\";\n    Protocol[Protocol[\"LEAVE_ROOM\"] = 12] = \"LEAVE_ROOM\";\n    Protocol[Protocol[\"ROOM_DATA\"] = 13] = \"ROOM_DATA\";\n    Protocol[Protocol[\"ROOM_STATE\"] = 14] = \"ROOM_STATE\";\n    Protocol[Protocol[\"ROOM_STATE_PATCH\"] = 15] = \"ROOM_STATE_PATCH\";\n    Protocol[Protocol[\"ROOM_DATA_SCHEMA\"] = 16] = \"ROOM_DATA_SCHEMA\";\n})(Protocol = exports.Protocol || (exports.Protocol = {}));\nvar ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"MATCHMAKE_NO_HANDLER\"] = 4210] = \"MATCHMAKE_NO_HANDLER\";\n    ErrorCode[ErrorCode[\"MATCHMAKE_INVALID_CRITERIA\"] = 4211] = \"MATCHMAKE_INVALID_CRITERIA\";\n    ErrorCode[ErrorCode[\"MATCHMAKE_INVALID_ROOM_ID\"] = 4212] = \"MATCHMAKE_INVALID_ROOM_ID\";\n    ErrorCode[ErrorCode[\"MATCHMAKE_UNHANDLED\"] = 4213] = \"MATCHMAKE_UNHANDLED\";\n    ErrorCode[ErrorCode[\"MATCHMAKE_EXPIRED\"] = 4214] = \"MATCHMAKE_EXPIRED\";\n    ErrorCode[ErrorCode[\"AUTH_FAILED\"] = 4215] = \"AUTH_FAILED\";\n    ErrorCode[ErrorCode[\"APPLICATION_ERROR\"] = 4216] = \"APPLICATION_ERROR\";\n})(ErrorCode = exports.ErrorCode || (exports.ErrorCode = {}));\nfunction utf8Read(view, offset) {\n    var length = view[offset++];\n    var string = '', chr = 0;\n    for (var i = offset, end = offset + length; i < end; i++) {\n        var byte = view[i];\n        if ((byte & 0x80) === 0x00) {\n            string += String.fromCharCode(byte);\n            continue;\n        }\n        if ((byte & 0xe0) === 0xc0) {\n            string += String.fromCharCode(((byte & 0x1f) << 6) |\n                (view[++i] & 0x3f));\n            continue;\n        }\n        if ((byte & 0xf0) === 0xe0) {\n            string += String.fromCharCode(((byte & 0x0f) << 12) |\n                ((view[++i] & 0x3f) << 6) |\n                ((view[++i] & 0x3f) << 0));\n            continue;\n        }\n        if ((byte & 0xf8) === 0xf0) {\n            chr = ((byte & 0x07) << 18) |\n                ((view[++i] & 0x3f) << 12) |\n                ((view[++i] & 0x3f) << 6) |\n                ((view[++i] & 0x3f) << 0);\n            if (chr >= 0x010000) { // surrogate pair\n                chr -= 0x010000;\n                string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\n            }\n            else {\n                string += String.fromCharCode(chr);\n            }\n            continue;\n        }\n        throw new Error('Invalid byte ' + byte.toString(16));\n    }\n    return string;\n}\nexports.utf8Read = utf8Read;\n// Faster for short strings than Buffer.byteLength\nfunction utf8Length(str) {\n    if (str === void 0) { str = ''; }\n    var c = 0;\n    var length = 0;\n    for (var i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length + 1;\n}\nexports.utf8Length = utf8Length;\n",null,null,null,"\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Room = void 0;\nvar msgpack = __importStar(require(\"./msgpack\"));\nvar strong_events_1 = require(\"strong-events\");\nvar nanoevents_1 = require(\"nanoevents\");\nvar Connection_1 = require(\"./Connection\");\nvar Serializer_1 = require(\"./serializer/Serializer\");\nvar Protocol_1 = require(\"./Protocol\");\nvar encode = __importStar(require(\"@colyseus/schema/lib/encoding/encode\"));\nvar decode = __importStar(require(\"@colyseus/schema/lib/encoding/decode\"));\nvar Room = /** @class */ (function () {\n    function Room(name, rootSchema) {\n        var _this = this;\n        // Public signals\n        this.onJoin = strong_events_1.createSignal();\n        this.onStateChange = strong_events_1.createSignal();\n        this.onError = strong_events_1.createSignal();\n        this.onLeave = strong_events_1.createSignal();\n        this.hasJoined = false;\n        this.onMessageHandlers = nanoevents_1.createNanoEvents();\n        this.id = null;\n        this.name = name;\n        if (rootSchema) {\n            this.serializer = new (Serializer_1.getSerializer(\"schema\"));\n            this.rootSchema = rootSchema;\n            this.serializer.state = new rootSchema();\n        }\n        else {\n            // TODO: remove default serializer. it should arrive only after JOIN_ROOM.\n            this.serializer = new (Serializer_1.getSerializer(\"fossil-delta\"));\n        }\n        this.onError(function (code, message) { return console.warn(\"colyseus.js - onError => (\" + code + \") \" + message); });\n        this.onLeave(function () { return _this.removeAllListeners(); });\n    }\n    Room.prototype.connect = function (endpoint) {\n        var _this = this;\n        this.connection = new Connection_1.Connection(endpoint, false);\n        this.connection.reconnectEnabled = false;\n        this.connection.onmessage = this.onMessageCallback.bind(this);\n        this.connection.onclose = function (e) {\n            if (!_this.hasJoined) {\n                console.warn(\"Room connection was closed unexpectedly (\" + e.code + \"): \" + e.reason);\n                _this.onError.invoke(e.code, e.reason);\n                return;\n            }\n            _this.onLeave.invoke(e.code);\n        };\n        this.connection.onerror = function (e) {\n            console.warn(\"Room, onError (\" + e.code + \"): \" + e.reason);\n            _this.onError.invoke(e.code, e.reason);\n        };\n        this.connection.open();\n    };\n    Room.prototype.leave = function (consented) {\n        if (consented === void 0) { consented = true; }\n        if (this.connection) {\n            if (consented) {\n                this.connection.send([Protocol_1.Protocol.LEAVE_ROOM]);\n            }\n            else {\n                this.connection.close();\n            }\n        }\n        else {\n            this.onLeave.invoke(4000); // \"consented\" code\n        }\n    };\n    Room.prototype.onMessage = function (type, callback) {\n        return this.onMessageHandlers.on(this.getMessageHandlerKey(type), callback);\n    };\n    Room.prototype.send = function (type, message) {\n        var initialBytes = [Protocol_1.Protocol.ROOM_DATA];\n        if (typeof (type) === \"string\") {\n            encode.string(initialBytes, type);\n        }\n        else {\n            encode.number(initialBytes, type);\n        }\n        var arr;\n        if (message !== undefined) {\n            var encoded = msgpack.encode(message);\n            arr = new Uint8Array(initialBytes.length + encoded.byteLength);\n            arr.set(new Uint8Array(initialBytes), 0);\n            arr.set(new Uint8Array(encoded), initialBytes.length);\n        }\n        else {\n            arr = new Uint8Array(initialBytes);\n        }\n        this.connection.send(arr.buffer);\n    };\n    Object.defineProperty(Room.prototype, \"state\", {\n        get: function () {\n            return this.serializer.getState();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // TODO: deprecate / move somewhere else\n    // this method is useful only for FossilDeltaSerializer\n    Room.prototype.listen = function (segments, callback, immediate) {\n        if (this.serializerId === \"schema\") {\n            console.warn(\"'\" + this.serializerId + \"' serializer doesn't support .listen() method here.\");\n            return;\n        }\n        else if (!this.serializerId) {\n            console.warn(\"room.Listen() should be called after room.onJoin has been called (DEPRECATION WARNING)\");\n        }\n        return this.serializer.api.listen(segments, callback, immediate);\n    };\n    // TODO: deprecate / move somewhere else\n    // this method is useful only for FossilDeltaSerializer\n    Room.prototype.removeListener = function (listener) {\n        return this.serializer.api.removeListener(listener);\n    };\n    Room.prototype.removeAllListeners = function () {\n        if (this.serializer) {\n            this.serializer.teardown();\n        }\n        this.onJoin.clear();\n        this.onStateChange.clear();\n        this.onError.clear();\n        this.onLeave.clear();\n    };\n    Room.prototype.onMessageCallback = function (event) {\n        var bytes = Array.from(new Uint8Array(event.data));\n        var code = bytes[0];\n        if (code === Protocol_1.Protocol.JOIN_ROOM) {\n            var offset = 1;\n            this.serializerId = Protocol_1.utf8Read(bytes, offset);\n            offset += Protocol_1.utf8Length(this.serializerId);\n            // get serializer implementation\n            var serializer = Serializer_1.getSerializer(this.serializerId);\n            if (!serializer) {\n                throw new Error(\"missing serializer: \" + this.serializerId);\n            }\n            // TODO: remove this check\n            if (this.serializerId !== \"fossil-delta\" && !this.rootSchema) {\n                this.serializer = new serializer();\n            }\n            if (bytes.length > offset && this.serializer.handshake) {\n                this.serializer.handshake(bytes, { offset: 1 });\n            }\n            this.hasJoined = true;\n            this.onJoin.invoke();\n            // acknowledge successfull JOIN_ROOM\n            this.connection.send([Protocol_1.Protocol.JOIN_ROOM]);\n        }\n        else if (code === Protocol_1.Protocol.ERROR) {\n            var it_1 = { offset: 1 };\n            var code_1 = decode.number(bytes, it_1);\n            var message = decode.string(bytes, it_1);\n            this.onError.invoke(code_1, message);\n        }\n        else if (code === Protocol_1.Protocol.LEAVE_ROOM) {\n            this.leave();\n        }\n        else if (code === Protocol_1.Protocol.ROOM_DATA_SCHEMA) {\n            var context_1 = this.serializer.getState().constructor._context;\n            var type = context_1.get(bytes[1]);\n            var message = new type();\n            message.decode(bytes, { offset: 2 });\n            this.dispatchMessage(type, message);\n        }\n        else if (code === Protocol_1.Protocol.ROOM_STATE) {\n            bytes.shift(); // drop `code` byte\n            this.setState(bytes);\n        }\n        else if (code === Protocol_1.Protocol.ROOM_STATE_PATCH) {\n            bytes.shift(); // drop `code` byte\n            this.patch(bytes);\n        }\n        else if (code === Protocol_1.Protocol.ROOM_DATA) {\n            var it_2 = { offset: 1 };\n            var type = (decode.stringCheck(bytes, it_2))\n                ? decode.string(bytes, it_2)\n                : decode.number(bytes, it_2);\n            var message = (bytes.length > it_2.offset)\n                ? msgpack.decode(event.data, it_2.offset)\n                : undefined;\n            this.dispatchMessage(type, message);\n        }\n    };\n    Room.prototype.setState = function (encodedState) {\n        this.serializer.setState(encodedState);\n        this.onStateChange.invoke(this.serializer.getState());\n    };\n    Room.prototype.patch = function (binaryPatch) {\n        this.serializer.patch(binaryPatch);\n        this.onStateChange.invoke(this.serializer.getState());\n    };\n    Room.prototype.dispatchMessage = function (type, message) {\n        var messageType = this.getMessageHandlerKey(type);\n        if (this.onMessageHandlers.events[messageType]) {\n            this.onMessageHandlers.emit(messageType, message);\n        }\n        else if (this.onMessageHandlers.events['*']) {\n            this.onMessageHandlers.emit('*', type, message);\n        }\n        else {\n            console.warn(\"onMessage not registered for type '\" + type + \"'.\");\n        }\n    };\n    Room.prototype.getMessageHandlerKey = function (type) {\n        switch (typeof (type)) {\n            // typeof Schema\n            case \"function\": return \"$\" + type._typeid;\n            // string\n            case \"string\": return type;\n            // number\n            case \"number\": return \"i\" + type;\n            default: throw new Error(\"invalid message type.\");\n        }\n    };\n    return Room;\n}());\nexports.Room = Room;\n","\"use strict\";\n/// <reference path=\"../typings/cocos-creator.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getItem = exports.removeItem = exports.setItem = void 0;\n/**\n * We do not assign 'storage' to window.localStorage immediatelly for React\n * Native compatibility. window.localStorage is not present when this module is\n * loaded.\n */\nvar storage;\nfunction getStorage() {\n    if (!storage) {\n        storage = (typeof (cc) !== 'undefined' && cc.sys && cc.sys.localStorage)\n            ? cc.sys.localStorage // compatibility with cocos creator\n            : typeof (window) !== \"undefined\" && window.localStorage //RN does have window object at this point, but localStorage is not defined\n                ? window.localStorage // regular browser environment\n                : {\n                    cache: {},\n                    setItem: function (key, value) { this.cache[key] = value; },\n                    getItem: function (key) { this.cache[key]; },\n                    removeItem: function (key) { delete this.cache[key]; },\n                };\n    }\n    return storage;\n}\nfunction setItem(key, value) {\n    getStorage().setItem(key, value);\n}\nexports.setItem = setItem;\nfunction removeItem(key) {\n    getStorage().removeItem(key);\n}\nexports.removeItem = removeItem;\nfunction getItem(key, callback) {\n    var value = getStorage().getItem(key);\n    if (typeof (Promise) === 'undefined' || // old browsers\n        !(value instanceof Promise)) {\n        // browser has synchronous return\n        callback(value);\n    }\n    else {\n        // react-native is asynchronous\n        value.then(function (id) { return callback(id); });\n    }\n}\nexports.getItem = getItem;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Auth = exports.Platform = void 0;\nvar http = __importStar(require(\"@colyseus/http\"));\nvar Storage_1 = require(\"./Storage\");\nvar TOKEN_STORAGE = \"colyseus-auth-token\";\nvar Platform;\n(function (Platform) {\n    Platform[\"ios\"] = \"ios\";\n    Platform[\"android\"] = \"android\";\n})(Platform = exports.Platform || (exports.Platform = {}));\nvar Auth = /** @class */ (function () {\n    function Auth(endpoint) {\n        var _this = this;\n        this._id = undefined;\n        this.username = undefined;\n        this.displayName = undefined;\n        this.avatarUrl = undefined;\n        this.isAnonymous = undefined;\n        this.email = undefined;\n        this.lang = undefined;\n        this.location = undefined;\n        this.timezone = undefined;\n        this.metadata = undefined;\n        this.devices = undefined;\n        this.facebookId = undefined;\n        this.twitterId = undefined;\n        this.googleId = undefined;\n        this.gameCenterId = undefined;\n        this.steamId = undefined;\n        this.friendIds = undefined;\n        this.blockedUserIds = undefined;\n        this.createdAt = undefined;\n        this.updatedAt = undefined;\n        // auth token\n        this.token = undefined;\n        this.endpoint = endpoint.replace(\"ws\", \"http\");\n        Storage_1.getItem(TOKEN_STORAGE, function (token) { return _this.token = token; });\n    }\n    Object.defineProperty(Auth.prototype, \"hasToken\", {\n        get: function () {\n            return !!this.token;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Auth.prototype.login = function (options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var queryParams, data, attr;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        queryParams = Object.assign({}, options);\n                        if (this.hasToken) {\n                            queryParams.token = this.token;\n                        }\n                        return [4 /*yield*/, this.request('post', '/auth', queryParams)];\n                    case 1:\n                        data = _a.sent();\n                        // set & cache token\n                        this.token = data.token;\n                        Storage_1.setItem(TOKEN_STORAGE, this.token);\n                        for (attr in data) {\n                            if (this.hasOwnProperty(attr)) {\n                                this[attr] = data[attr];\n                            }\n                        }\n                        this.registerPingService();\n                        return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    Auth.prototype.save = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('put', '/auth', {}, {\n                            username: this.username,\n                            displayName: this.displayName,\n                            avatarUrl: this.avatarUrl,\n                            lang: this.lang,\n                            location: this.location,\n                            timezone: this.timezone,\n                        })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, this];\n                }\n            });\n        });\n    };\n    Auth.prototype.getFriends = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('get', '/friends/all')];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.getOnlineFriends = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('get', '/friends/online')];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.getFriendRequests = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('get', '/friends/requests')];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.sendFriendRequest = function (friendId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('post', '/friends/requests', { userId: friendId })];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.acceptFriendRequest = function (friendId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('put', '/friends/requests', { userId: friendId })];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.declineFriendRequest = function (friendId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('del', '/friends/requests', { userId: friendId })];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.blockUser = function (friendId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('post', '/friends/block', { userId: friendId })];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.unblockUser = function (friendId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.request('put', '/friends/block', { userId: friendId })];\n                    case 1: return [2 /*return*/, (_a.sent())];\n                }\n            });\n        });\n    };\n    Auth.prototype.request = function (method, segments, query, body, headers) {\n        if (query === void 0) { query = {}; }\n        if (headers === void 0) { headers = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var queryParams, name_1, queryString, opts;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        headers['Accept'] = 'application/json';\n                        if (this.hasToken) {\n                            headers['Authorization'] = 'Bearer ' + this.token;\n                        }\n                        queryParams = [];\n                        for (name_1 in query) {\n                            queryParams.push(name_1 + \"=\" + query[name_1]);\n                        }\n                        queryString = (queryParams.length > 0)\n                            ? \"?\" + queryParams.join(\"&\")\n                            : '';\n                        opts = { headers: headers };\n                        if (body) {\n                            opts.body = body;\n                        }\n                        return [4 /*yield*/, http[method](\"\" + this.endpoint + segments + queryString, opts)];\n                    case 1: return [2 /*return*/, (_a.sent()).data];\n                }\n            });\n        });\n    };\n    Auth.prototype.logout = function () {\n        this.token = undefined;\n        Storage_1.removeItem(TOKEN_STORAGE);\n        this.unregisterPingService();\n    };\n    Auth.prototype.registerPingService = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = 15000; }\n        this.unregisterPingService();\n        this.keepOnlineInterval = setInterval(function () { return _this.request('get', '/auth'); }, timeout);\n    };\n    Auth.prototype.unregisterPingService = function () {\n        clearInterval(this.keepOnlineInterval);\n    };\n    return Auth;\n}());\nexports.Auth = Auth;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Push = void 0;\nvar Push = /** @class */ (function () {\n    function Push(endpoint) {\n        this.endpoint = endpoint.replace(\"ws\", \"http\");\n    }\n    Push.prototype.register = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.check();\n                        return [4 /*yield*/, this.registerServiceWorker()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.requestNotificationPermission()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ;\n    Push.prototype.registerServiceWorker = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, navigator.serviceWorker.register(this.endpoint + \"/push\")];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Push.prototype.requestNotificationPermission = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var permission;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, window[\"Notification\"].requestPermission()];\n                    case 1:\n                        permission = _a.sent();\n                        // value of permission can be 'granted', 'default', 'denied'\n                        // granted: user has accepted the request\n                        // default: user has dismissed the notification permission popup by clicking on x\n                        // denied: user has denied the request.\n                        if (permission !== \"granted\") {\n                            throw new Error(\"Permission not granted for Notification\");\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Push.prototype.check = function () {\n        if (!(\"serviceWorker\" in navigator)) {\n            throw new Error(\"No Service Worker support!\");\n        }\n        if (!(\"PushManager\" in window)) {\n            throw new Error(\"No Push API Support!\");\n        }\n    };\n    return Push;\n}());\nexports.Push = Push;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Client = exports.MatchMakeError = void 0;\nvar http_1 = require(\"@colyseus/http\");\nvar ServerError_1 = require(\"./errors/ServerError\");\nvar Room_1 = require(\"./Room\");\nvar Auth_1 = require(\"./Auth\");\nvar Push_1 = require(\"./Push\");\nvar MatchMakeError = /** @class */ (function (_super) {\n    __extends(MatchMakeError, _super);\n    function MatchMakeError(message, code) {\n        var _this = _super.call(this, message) || this;\n        _this.code = code;\n        Object.setPrototypeOf(_this, MatchMakeError.prototype);\n        return _this;\n    }\n    return MatchMakeError;\n}(Error));\nexports.MatchMakeError = MatchMakeError;\nvar Client = /** @class */ (function () {\n    function Client(endpoint) {\n        if (endpoint === void 0) { endpoint = location.protocol.replace(\"http\", \"ws\") + \"//\" + location.hostname + (location.port && \":\" + location.port); }\n        this.endpoint = endpoint;\n        this.auth = new Auth_1.Auth(this.endpoint);\n        this.push = new Push_1.Push(this.endpoint);\n    }\n    Client.prototype.joinOrCreate = function (roomName, options, rootSchema) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinOrCreate', roomName, options, rootSchema)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Client.prototype.create = function (roomName, options, rootSchema) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.createMatchMakeRequest('create', roomName, options, rootSchema)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Client.prototype.join = function (roomName, options, rootSchema) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.createMatchMakeRequest('join', roomName, options, rootSchema)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Client.prototype.joinById = function (roomId, options, rootSchema) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinById', roomId, options, rootSchema)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Client.prototype.reconnect = function (roomId, sessionId, rootSchema) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinById', roomId, { sessionId: sessionId }, rootSchema)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Client.prototype.getAvailableRooms = function (roomName) {\n        if (roomName === void 0) { roomName = \"\"; }\n        return __awaiter(this, void 0, void 0, function () {\n            var url;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = this.endpoint.replace(\"ws\", \"http\") + \"/matchmake/\" + roomName;\n                        return [4 /*yield*/, http_1.get(url, { headers: { 'Accept': 'application/json' } })];\n                    case 1: return [2 /*return*/, (_a.sent()).data];\n                }\n            });\n        });\n    };\n    Client.prototype.consumeSeatReservation = function (response, rootSchema) {\n        return __awaiter(this, void 0, void 0, function () {\n            var room;\n            return __generator(this, function (_a) {\n                room = this.createRoom(response.room.name, rootSchema);\n                room.id = response.room.roomId;\n                room.sessionId = response.sessionId;\n                room.connect(this.buildEndpoint(response.room, { sessionId: room.sessionId }));\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var onError = function (code, message) { return reject(new ServerError_1.ServerError(code, message)); };\n                        room.onError.once(onError);\n                        room.onJoin.once(function () {\n                            room.onError.remove(onError);\n                            resolve(room);\n                        });\n                    })];\n            });\n        });\n    };\n    Client.prototype.createMatchMakeRequest = function (method, roomName, options, rootSchema) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var url, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = this.endpoint.replace(\"ws\", \"http\") + \"/matchmake/\" + method + \"/\" + roomName;\n                        // automatically forward auth token, if present\n                        if (this.auth.hasToken) {\n                            options.token = this.auth.token;\n                        }\n                        return [4 /*yield*/, http_1.post(url, {\n                                headers: {\n                                    'Accept': 'application/json',\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify(options)\n                            })];\n                    case 1:\n                        response = (_a.sent()).data;\n                        if (response.error) {\n                            throw new MatchMakeError(response.error, response.code);\n                        }\n                        return [2 /*return*/, this.consumeSeatReservation(response, rootSchema)];\n                }\n            });\n        });\n    };\n    Client.prototype.createRoom = function (roomName, rootSchema) {\n        return new Room_1.Room(roomName, rootSchema);\n    };\n    Client.prototype.buildEndpoint = function (room, options) {\n        if (options === void 0) { options = {}; }\n        var params = [];\n        for (var name_1 in options) {\n            if (!options.hasOwnProperty(name_1)) {\n                continue;\n            }\n            params.push(name_1 + \"=\" + options[name_1]);\n        }\n        return this.endpoint + \"/\" + room.processId + \"/\" + room.roomId + \"?\" + params.join('&');\n    };\n    return Client;\n}());\nexports.Client = Client;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction compare(tree1, tree2) {\n    var patches = [];\n    generate(tree1, tree2, patches, []);\n    return patches;\n}\nexports.compare = compare;\nfunction concat(arr, value) {\n    var newArr = arr.slice();\n    newArr.push(value);\n    return newArr;\n}\nfunction objectKeys(obj) {\n    if (Array.isArray(obj)) {\n        var keys_1 = new Array(obj.length);\n        for (var k = 0; k < keys_1.length; k++) {\n            keys_1[k] = \"\" + k;\n        }\n        return keys_1;\n    }\n    if (Object.keys) {\n        return Object.keys(obj);\n    }\n    var keys = [];\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            keys.push(i);\n        }\n    }\n    return keys;\n}\n;\n// Dirty check if obj is different from mirror, generate patches and update mirror\nfunction generate(mirror, obj, patches, path) {\n    var newKeys = objectKeys(obj);\n    var oldKeys = objectKeys(mirror);\n    var deleted = false;\n    for (var t = oldKeys.length - 1; t >= 0; t--) {\n        var key = oldKeys[t];\n        var oldVal = mirror[key];\n        if (obj.hasOwnProperty(key) && !(obj[key] === undefined && oldVal !== undefined && Array.isArray(obj) === false)) {\n            var newVal = obj[key];\n            if (typeof oldVal == \"object\" && oldVal != null && typeof newVal == \"object\" && newVal != null) {\n                generate(oldVal, newVal, patches, concat(path, key));\n            }\n            else {\n                if (oldVal !== newVal) {\n                    patches.push({\n                        operation: \"replace\",\n                        path: concat(path, key),\n                        value: newVal,\n                        previousValue: oldVal\n                    });\n                }\n            }\n        }\n        else {\n            patches.push({ operation: \"remove\", path: concat(path, key) });\n            deleted = true; // property has been deleted\n        }\n    }\n    if (!deleted && newKeys.length == oldKeys.length) {\n        return;\n    }\n    for (var t = newKeys.length - 1; t >= 0; t--) {\n        var key = newKeys[t];\n        if (!mirror.hasOwnProperty(key) && obj[key] !== undefined) {\n            var newVal = obj[key];\n            var addPath = concat(path, key);\n            // compare deeper additions\n            if (typeof newVal == \"object\" && newVal != null) {\n                generate({}, newVal, patches, addPath);\n            }\n            patches.push({ operation: \"add\", path: addPath, value: newVal });\n        }\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar compare_1 = require(\"./compare\");\nvar StateContainer = /** @class */ (function () {\n    function StateContainer(state) {\n        this.listeners = [];\n        this.matcherPlaceholders = {\n            \":id\": /^([a-zA-Z0-9\\-_]+)$/,\n            \":number\": /^([0-9]+)$/,\n            \":string\": /^(\\w+)$/,\n            \":axis\": /^([xyz])$/,\n            \":*\": /(.*)/,\n        };\n        this.state = state;\n        this.reset();\n    }\n    StateContainer.prototype.set = function (newState) {\n        var patches = compare_1.compare(this.state, newState);\n        this.state = newState;\n        this.checkPatches(patches, this.listeners, this.defaultListener);\n        return patches;\n    };\n    StateContainer.prototype.registerPlaceholder = function (placeholder, matcher) {\n        this.matcherPlaceholders[placeholder] = matcher;\n    };\n    StateContainer.prototype.listen = function (segments, callback, immediate) {\n        var _this = this;\n        var rules;\n        if (typeof (segments) === \"function\") {\n            rules = [];\n            callback = segments;\n        }\n        else {\n            rules = segments.split(\"/\");\n        }\n        if (callback.length > 1) {\n            console.warn(\".listen() accepts only one parameter.\");\n        }\n        var listener = {\n            callback: callback,\n            rawRules: rules,\n            rules: rules.map(function (segment) {\n                if (typeof (segment) === \"string\") {\n                    // replace placeholder matchers\n                    return (segment.indexOf(\":\") === 0)\n                        ? _this.matcherPlaceholders[segment] || _this.matcherPlaceholders[\":*\"]\n                        : new RegExp(\"^\" + segment + \"$\");\n                }\n                else {\n                    return segment;\n                }\n            })\n        };\n        if (rules.length === 0) {\n            this.defaultListener = listener;\n        }\n        else {\n            this.listeners.push(listener);\n        }\n        // immediatelly try to trigger this listener.\n        if (immediate) {\n            this.checkPatches(compare_1.compare({}, this.state), [listener]);\n        }\n        return listener;\n    };\n    StateContainer.prototype.removeListener = function (listener) {\n        for (var i = this.listeners.length - 1; i >= 0; i--) {\n            if (this.listeners[i] === listener) {\n                this.listeners.splice(i, 1);\n            }\n        }\n    };\n    StateContainer.prototype.removeAllListeners = function () {\n        this.reset();\n    };\n    StateContainer.prototype.checkPatches = function (patches, listeners, defaultListener) {\n        for (var j = 0, len = listeners.length; j < len; j++) {\n            var listener = listeners[j];\n            for (var i = patches.length - 1; i >= 0; i--) {\n                var pathVariables = listener && this.getPathVariables(patches[i], listener);\n                if (pathVariables) {\n                    listener.callback({\n                        path: pathVariables,\n                        rawPath: patches[i].path,\n                        operation: patches[i].operation,\n                        value: patches[i].value\n                    });\n                    patches[i].matched = true;\n                }\n            }\n        }\n        // trigger default listener callback with each unmatched patch\n        if (defaultListener) {\n            for (var i = patches.length - 1; i >= 0; i--) {\n                if (!patches[i].matched) {\n                    defaultListener.callback(patches[i]);\n                }\n            }\n        }\n    };\n    StateContainer.prototype.getPathVariables = function (patch, listener) {\n        // skip if rules count differ from patch\n        if (patch.path.length !== listener.rules.length) {\n            return false;\n        }\n        var path = {};\n        for (var i = 0, len = listener.rules.length; i < len; i++) {\n            var matches = patch.path[i].match(listener.rules[i]);\n            if (!matches || matches.length === 0 || matches.length > 2) {\n                return false;\n            }\n            else if (listener.rawRules[i].substr(0, 1) === \":\") {\n                path[listener.rawRules[i].substr(1)] = matches[1];\n            }\n        }\n        return path;\n    };\n    StateContainer.prototype.reset = function () {\n        this.listeners = [];\n    };\n    return StateContainer;\n}());\nexports.StateContainer = StateContainer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StateContainer_1 = require(\"./StateContainer\");\nexports.StateContainer = StateContainer_1.StateContainer;\n","// Fossil SCM delta compression algorithm\n// ======================================\n//\n// Format:\n// http://www.fossil-scm.org/index.html/doc/tip/www/delta_format.wiki\n//\n// Algorithm:\n// http://www.fossil-scm.org/index.html/doc/tip/www/delta_encoder_algorithm.wiki\n//\n// Original implementation:\n// http://www.fossil-scm.org/index.html/artifact/d1b0598adcd650b3551f63b17dfc864e73775c3d\n//\n// LICENSE\n// -------\n//\n// Copyright 2014 Dmitry Chestnykh (JavaScript port)\n// Copyright 2007 D. Richard Hipp  (original C version)\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or\n// without modification, are permitted provided that the\n// following conditions are met:\n//\n//   1. Redistributions of source code must retain the above\n//      copyright notice, this list of conditions and the\n//      following disclaimer.\n//\n//   2. Redistributions in binary form must reproduce the above\n//      copyright notice, this list of conditions and the\n//      following disclaimer in the documentation and/or other\n//      materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS\n// OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n// BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n// WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n// OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n// EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// The views and conclusions contained in the software and documentation\n// are those of the authors and contributors and should not be interpreted\n// as representing official policies, either expressed or implied, of anybody\n// else.\n//\n(function(root, factory) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = factory();\n  else root.fossilDelta = factory();\n})(this, function() {\n'use strict';\n\nvar fossilDelta = {};\n\n// Hash window width in bytes. Must be a power of two.\nvar NHASH = 16;\n\nfunction RollingHash() {\n  this.a = 0; // hash     (16-bit unsigned)\n  this.b = 0; // values   (16-bit unsigned)\n  this.i = 0; // start of the hash window (16-bit unsigned)\n  this.z = new Array(NHASH); // the values that have been hashed.\n}\n\n// Initialize the rolling hash using the first NHASH bytes of\n// z at the given position.\nRollingHash.prototype.init = function(z, pos) {\n  var a = 0, b = 0, i, x;\n  for(i = 0; i < NHASH; i++){\n    x = z[pos+i];\n    a = (a + x) & 0xffff;\n    b = (b + (NHASH-i)*x) & 0xffff;\n    this.z[i] = x;\n  }\n  this.a = a & 0xffff;\n  this.b = b & 0xffff;\n  this.i = 0;\n};\n\n// Advance the rolling hash by a single byte \"c\".\nRollingHash.prototype.next = function(c) {\n  var old = this.z[this.i];\n  this.z[this.i] = c;\n  this.i = (this.i+1)&(NHASH-1);\n  this.a = (this.a - old + c) & 0xffff;\n  this.b = (this.b - NHASH*old + this.a) & 0xffff;\n};\n\n// Return a 32-bit hash value.\nRollingHash.prototype.value = function() {\n  return ((this.a & 0xffff) | (this.b & 0xffff)<<16)>>>0;\n};\n\nvar zDigits = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~\".\n                split('').map(function (x) { return x.charCodeAt(0); });\n\nvar zValue = [\n  -1, -1, -1, -1, -1, -1, -1, -1,   -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1,   -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1,   -1, -1, -1, -1, -1, -1, -1, -1,\n   0,  1,  2,  3,  4,  5,  6,  7,    8,  9, -1, -1, -1, -1, -1, -1,\n  -1, 10, 11, 12, 13, 14, 15, 16,   17, 18, 19, 20, 21, 22, 23, 24,\n  25, 26, 27, 28, 29, 30, 31, 32,   33, 34, 35, -1, -1, -1, -1, 36,\n  -1, 37, 38, 39, 40, 41, 42, 43,   44, 45, 46, 47, 48, 49, 50, 51,\n  52, 53, 54, 55, 56, 57, 58, 59,   60, 61, 62, -1, -1, -1, 63, -1\n];\n\n// Reader reads bytes, chars, ints from array.\nfunction Reader(array) {\n  this.a = array; // source array\n  this.pos = 0;   // current position in array\n}\n\nReader.prototype.haveBytes = function() {\n  return this.pos < this.a.length;\n};\n\nReader.prototype.getByte = function() {\n  var b = this.a[this.pos];\n  this.pos++;\n  if (this.pos > this.a.length) throw new RangeError('out of bounds');\n  return b;\n};\n\nReader.prototype.getChar = function() {\n  return String.fromCharCode(this.getByte());\n};\n\n// Read base64-encoded unsigned integer.\nReader.prototype.getInt = function(){\n  var v = 0, c;\n  while(this.haveBytes() && (c = zValue[0x7f & this.getByte()]) >= 0) {\n     v = (v<<6) + c;\n  }\n  this.pos--;\n  return v >>> 0;\n};\n\n\n// Write writes an array.\nfunction Writer() {\n  this.a = [];\n}\n\nWriter.prototype.toArray = function() {\n  return this.a;\n};\n\nWriter.prototype.putByte = function(b) {\n  this.a.push(b & 0xff);\n};\n\n// Write an ASCII character (s is a one-char string).\nWriter.prototype.putChar = function(s) {\n  this.putByte(s.charCodeAt(0));\n};\n\n// Write a base64 unsigned integer.\nWriter.prototype.putInt = function(v){\n  var i, j, zBuf = [];\n  if (v === 0) {\n    this.putChar('0');\n    return;\n  }\n  for (i = 0; v > 0; i++, v >>>= 6)\n    zBuf.push(zDigits[v&0x3f]);\n  for (j = i-1; j >= 0; j--)\n    this.putByte(zBuf[j]);\n};\n\n// Copy from array at start to end.\nWriter.prototype.putArray = function(a, start, end) {\n  for (var i = start; i < end; i++) this.a.push(a[i]);\n};\n\n// Return the number digits in the base64 representation of a positive integer.\nfunction digitCount(v){\n  var i, x;\n  for (i = 1, x = 64; v >= x; i++, x <<= 6){ /* nothing */ }\n  return i;\n}\n\n// Return a 32-bit checksum of the array.\nfunction checksum(arr) {\n  var sum0 = 0, sum1 = 0, sum2 = 0, sum3 = 0,\n      z = 0, N = arr.length;\n  //TODO measure if this unrolling is helpful.\n  while (N >= 16) {\n    sum0 = sum0 + arr[z+0] | 0;\n    sum1 = sum1 + arr[z+1] | 0;\n    sum2 = sum2 + arr[z+2] | 0;\n    sum3 = sum3 + arr[z+3] | 0;\n\n    sum0 = sum0 + arr[z+4] | 0;\n    sum1 = sum1 + arr[z+5] | 0;\n    sum2 = sum2 + arr[z+6] | 0;\n    sum3 = sum3 + arr[z+7] | 0;\n\n    sum0 = sum0 + arr[z+8] | 0;\n    sum1 = sum1 + arr[z+9] | 0;\n    sum2 = sum2 + arr[z+10] | 0;\n    sum3 = sum3 + arr[z+11] | 0;\n\n    sum0 = sum0 + arr[z+12] | 0;\n    sum1 = sum1 + arr[z+13] | 0;\n    sum2 = sum2 + arr[z+14] | 0;\n    sum3 = sum3 + arr[z+15] | 0;\n\n    z += 16;\n    N -= 16;\n  }\n  while (N >= 4) {\n    sum0 = sum0 + arr[z+0] | 0;\n    sum1 = sum1 + arr[z+1] | 0;\n    sum2 = sum2 + arr[z+2] | 0;\n    sum3 = sum3 + arr[z+3] | 0;\n    z += 4;\n    N -= 4;\n  }\n  sum3 = (((sum3 + (sum2 << 8) | 0) + (sum1 << 16) | 0) + (sum0 << 24) | 0);\n  /* jshint -W086 */\n  switch (N) {\n    case 3: sum3 = sum3 + (arr[z+2] <<  8) | 0; /* falls through */\n    case 2: sum3 = sum3 + (arr[z+1] << 16) | 0; /* falls through */\n    case 1: sum3 = sum3 + (arr[z+0] << 24) | 0; /* falls through */\n  }\n  return sum3 >>> 0;\n}\n\n// Create a new delta from src to out.\nfossilDelta.create = function(src, out) {\n  var zDelta = new Writer();\n  var lenOut = out.length;\n  var lenSrc = src.length;\n  var i, lastRead = -1;\n\n  zDelta.putInt(lenOut);\n  zDelta.putChar('\\n');\n\n  // If the source is very small, it means that we have no\n  // chance of ever doing a copy command.  Just output a single\n  // literal segment for the entire target and exit.\n  if (lenSrc <= NHASH) {\n    zDelta.putInt(lenOut);\n    zDelta.putChar(':');\n    zDelta.putArray(out, 0, lenOut);\n    zDelta.putInt(checksum(out));\n    zDelta.putChar(';');\n    return zDelta.toArray();\n  }\n\n  // Compute the hash table used to locate matching sections in the source.\n  var nHash = Math.ceil(lenSrc / NHASH);\n  var collide =  new Array(nHash);\n  var landmark = new Array(nHash);\n  for (i = 0; i < collide.length; i++) collide[i] = -1;\n  for (i = 0; i < landmark.length; i++) landmark[i] = -1;\n  var hv, h = new RollingHash();\n  for (i = 0; i < lenSrc-NHASH; i += NHASH) {\n    h.init(src, i);\n    hv = h.value() % nHash;\n    collide[i/NHASH] = landmark[hv];\n    landmark[hv] = i/NHASH;\n  }\n\n  var base = 0;\n  var iSrc, iBlock, bestCnt, bestOfst, bestLitsz;\n  while (base+NHASH<lenOut) {\n    bestOfst=0;\n    bestLitsz=0;\n    h.init(out, base);\n    i = 0; // Trying to match a landmark against zOut[base+i]\n    bestCnt = 0;\n    while(1) {\n      var limit = 250;\n      hv = h.value() % nHash;\n      iBlock = landmark[hv];\n      while (iBlock >= 0 && (limit--)>0 ) {\n        //\n        // The hash window has identified a potential match against\n        // landmark block iBlock.  But we need to investigate further.\n        //\n        // Look for a region in zOut that matches zSrc. Anchor the search\n        // at zSrc[iSrc] and zOut[base+i].  Do not include anything prior to\n        // zOut[base] or after zOut[outLen] nor anything after zSrc[srcLen].\n        //\n        // Set cnt equal to the length of the match and set ofst so that\n        // zSrc[ofst] is the first element of the match.  litsz is the number\n        // of characters between zOut[base] and the beginning of the match.\n        // sz will be the overhead (in bytes) needed to encode the copy\n        // command.  Only generate copy command if the overhead of the\n        // copy command is less than the amount of literal text to be copied.\n        //\n        var cnt, ofst, litsz;\n        var j, k, x, y;\n        var sz;\n\n        // Beginning at iSrc, match forwards as far as we can.\n        // j counts the number of characters that match.\n        iSrc = iBlock*NHASH;\n        for (j = 0, x = iSrc, y = base+i; x < lenSrc && y < lenOut; j++, x++, y++) {\n          if (src[x] !== out[y]) break;\n        }\n        j--;\n\n        // Beginning at iSrc-1, match backwards as far as we can.\n        // k counts the number of characters that match.\n        for (k = 1; k < iSrc && k <= i; k++) {\n          if (src[iSrc-k] !== out[base+i-k]) break;\n        }\n        k--;\n\n        // Compute the offset and size of the matching region.\n        ofst = iSrc-k;\n        cnt = j+k+1;\n        litsz = i-k;  // Number of bytes of literal text before the copy\n        // sz will hold the number of bytes needed to encode the \"insert\"\n        // command and the copy command, not counting the \"insert\" text.\n        sz = digitCount(i-k)+digitCount(cnt)+digitCount(ofst)+3;\n        if (cnt >= sz && cnt > bestCnt) {\n          // Remember this match only if it is the best so far and it\n          // does not increase the file size.\n          bestCnt = cnt;\n          bestOfst = iSrc-k;\n          bestLitsz = litsz;\n        }\n\n        // Check the next matching block\n        iBlock = collide[iBlock];\n      }\n\n      // We have a copy command that does not cause the delta to be larger\n      // than a literal insert.  So add the copy command to the delta.\n      if (bestCnt > 0) {\n        if (bestLitsz > 0) {\n          // Add an insert command before the copy.\n          zDelta.putInt(bestLitsz);\n          zDelta.putChar(':');\n          zDelta.putArray(out, base, base+bestLitsz);\n          base += bestLitsz;\n        }\n        base += bestCnt;\n        zDelta.putInt(bestCnt);\n        zDelta.putChar('@');\n        zDelta.putInt(bestOfst);\n        zDelta.putChar(',');\n        if (bestOfst + bestCnt -1 > lastRead) {\n          lastRead = bestOfst + bestCnt - 1;\n        }\n        bestCnt = 0;\n        break;\n      }\n\n      // If we reach this point, it means no match is found so far\n      if (base+i+NHASH >= lenOut){\n        // We have reached the end and have not found any\n        // matches.  Do an \"insert\" for everything that does not match\n        zDelta.putInt(lenOut-base);\n        zDelta.putChar(':');\n        zDelta.putArray(out, base, base+lenOut-base);\n        base = lenOut;\n        break;\n      }\n\n      // Advance the hash by one character. Keep looking for a match.\n      h.next(out[base+i+NHASH]);\n      i++;\n    }\n  }\n  // Output a final \"insert\" record to get all the text at the end of\n  // the file that does not match anything in the source.\n  if(base < lenOut) {\n    zDelta.putInt(lenOut-base);\n    zDelta.putChar(':');\n    zDelta.putArray(out, base, base+lenOut-base);\n  }\n  // Output the final checksum record.\n  zDelta.putInt(checksum(out));\n  zDelta.putChar(';');\n  return zDelta.toArray();\n};\n\n// Return the size (in bytes) of the output from applying a delta.\nfossilDelta.outputSize = function(delta){\n  var zDelta = new Reader(delta);\n  var size = zDelta.getInt();\n  if (zDelta.getChar() !== '\\n')\n    throw new Error('size integer not terminated by \\'\\\\n\\'');\n  return size;\n};\n\n// Apply a delta.\nfossilDelta.apply = function(src, delta, opts) {\n  var limit, total = 0;\n  var zDelta = new Reader(delta);\n  var lenSrc = src.length;\n  var lenDelta = delta.length;\n\n  limit = zDelta.getInt();\n  if (zDelta.getChar() !== '\\n')\n    throw new Error('size integer not terminated by \\'\\\\n\\'');\n  var zOut = new Writer();\n  while(zDelta.haveBytes()) {\n    var cnt, ofst;\n    cnt = zDelta.getInt();\n\n    switch (zDelta.getChar()) {\n      case '@':\n        ofst = zDelta.getInt();\n        if (zDelta.haveBytes() && zDelta.getChar() !== ',')\n          throw new Error('copy command not terminated by \\',\\'');\n        total += cnt;\n        if (total > limit)\n          throw new Error('copy exceeds output file size');\n        if (ofst+cnt > lenSrc)\n          throw new Error('copy extends past end of input');\n        zOut.putArray(src, ofst, ofst+cnt);\n        break;\n\n      case ':':\n        total += cnt;\n        if (total > limit)\n          throw new Error('insert command gives an output larger than predicted');\n        if (cnt > lenDelta)\n          throw new Error('insert count exceeds size of delta');\n        zOut.putArray(zDelta.a, zDelta.pos, zDelta.pos+cnt);\n        zDelta.pos += cnt;\n        break;\n\n      case ';':\n        var out = zOut.toArray();\n        if ((!opts || opts.verifyChecksum !== false) && cnt !== checksum(out))\n          throw new Error('bad checksum');\n        if (total !== limit)\n          throw new Error('generated size does not match predicted size');\n        return out;\n\n      default:\n        throw new Error('unknown delta operator');\n    }\n  }\n  throw new Error('unterminated delta');\n};\n\nreturn fossilDelta;\n\n});\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FossilDeltaSerializer = void 0;\nvar state_listener_1 = require(\"@gamestdio/state-listener\");\nvar fossilDelta = __importStar(require(\"fossil-delta\"));\nvar msgpack = __importStar(require(\"../msgpack\"));\nvar FossilDeltaSerializer = /** @class */ (function () {\n    function FossilDeltaSerializer() {\n        this.api = new state_listener_1.StateContainer({});\n    }\n    FossilDeltaSerializer.prototype.getState = function () {\n        return this.api.state;\n    };\n    FossilDeltaSerializer.prototype.setState = function (encodedState) {\n        this.previousState = new Uint8Array(encodedState);\n        this.api.set(msgpack.decode(this.previousState));\n    };\n    FossilDeltaSerializer.prototype.patch = function (binaryPatch) {\n        // apply patch\n        this.previousState = new Uint8Array(fossilDelta.apply(this.previousState, binaryPatch));\n        // trigger update callbacks\n        this.api.set(msgpack.decode(this.previousState));\n    };\n    FossilDeltaSerializer.prototype.teardown = function () {\n        this.api.removeAllListeners();\n    };\n    return FossilDeltaSerializer;\n}());\nexports.FossilDeltaSerializer = FossilDeltaSerializer;\n",null,null,null,null,null,null,null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SchemaSerializer = void 0;\nvar schema_1 = require(\"@colyseus/schema\");\nvar SchemaSerializer = /** @class */ (function () {\n    function SchemaSerializer() {\n    }\n    SchemaSerializer.prototype.setState = function (rawState) {\n        this.state.decode(rawState);\n    };\n    SchemaSerializer.prototype.getState = function () {\n        return this.state;\n    };\n    SchemaSerializer.prototype.patch = function (patches) {\n        this.state.decode(patches);\n    };\n    SchemaSerializer.prototype.teardown = function () {\n        // this.state.onRemove\n    };\n    SchemaSerializer.prototype.handshake = function (bytes, it) {\n        if (this.state) {\n            // validate client/server definitinos\n            var reflection = new schema_1.Reflection();\n            reflection.decode(bytes, it);\n        }\n        else {\n            // initialize reflected state from server\n            this.state = schema_1.Reflection.decode(bytes);\n        }\n    };\n    return SchemaSerializer;\n}());\nexports.SchemaSerializer = SchemaSerializer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SchemaSerializer = exports.FossilDeltaSerializer = exports.registerSerializer = void 0;\nrequire(\"./legacy\");\nvar Client_1 = require(\"./Client\");\nObject.defineProperty(exports, \"Client\", { enumerable: true, get: function () { return Client_1.Client; } });\nvar Protocol_1 = require(\"./Protocol\");\nObject.defineProperty(exports, \"Protocol\", { enumerable: true, get: function () { return Protocol_1.Protocol; } });\nObject.defineProperty(exports, \"ErrorCode\", { enumerable: true, get: function () { return Protocol_1.ErrorCode; } });\nvar Room_1 = require(\"./Room\");\nObject.defineProperty(exports, \"Room\", { enumerable: true, get: function () { return Room_1.Room; } });\nvar Auth_1 = require(\"./Auth\");\nObject.defineProperty(exports, \"Auth\", { enumerable: true, get: function () { return Auth_1.Auth; } });\nObject.defineProperty(exports, \"Platform\", { enumerable: true, get: function () { return Auth_1.Platform; } });\n/*\n * Serializers\n */\nvar FossilDeltaSerializer_1 = require(\"./serializer/FossilDeltaSerializer\");\nObject.defineProperty(exports, \"FossilDeltaSerializer\", { enumerable: true, get: function () { return FossilDeltaSerializer_1.FossilDeltaSerializer; } });\nvar SchemaSerializer_1 = require(\"./serializer/SchemaSerializer\");\nObject.defineProperty(exports, \"SchemaSerializer\", { enumerable: true, get: function () { return SchemaSerializer_1.SchemaSerializer; } });\nvar Serializer_1 = require(\"./serializer/Serializer\");\nObject.defineProperty(exports, \"registerSerializer\", { enumerable: true, get: function () { return Serializer_1.registerSerializer; } });\nSerializer_1.registerSerializer('fossil-delta', FossilDeltaSerializer_1.FossilDeltaSerializer);\nSerializer_1.registerSerializer('schema', SchemaSerializer_1.SchemaSerializer);\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nvar colyseus_js_1 = require(\"colyseus.js\");\ndocument.addEventListener('DOMContentLoaded', function () { return __awaiter(void 0, void 0, void 0, function () {\n    var client, room, handleInput;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                client = new colyseus_js_1.Client(process.env.gameServer || 'ws://localhost:2567');\n                return [4 /*yield*/, client.joinOrCreate(\"my_room\")];\n            case 1:\n                room = _a.sent();\n                handleInput = function (ev) {\n                    if (ev.code === \"Space\") {\n                        room.send(\"type\", { \"name\": \"Dhruvi\" });\n                    }\n                };\n                return [2 /*return*/];\n        }\n    });\n}); });\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}